<!doctype html>
<html lang="es" data-theme="auto" data-lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EC0249 · Proporcionar servicios de consultoría general — Bilingual (ES/EN) · Tri‑Mode</title>
  <meta name="description" content="Estándar de Competencia EC0249 — versión bilingüe (español/inglés) con tema automático, claro u oscuro." />
  <style>
    :root{
      --bg: #ffffff;
      --fg: #0f172a; /* slate-900 */
      --muted: #475569; /* slate-600 */
      --card: #f8fafc; /* slate-50 */
      --border: #e2e8f0; /* slate-200 */
      --accent: #2563eb; /* blue-600 */
      --accent-fg: #ffffff;
      --shadow: 0 10px 25px rgba(2,6,23,.08);
      --radius: 14px;
      --code: #111827;
      --kbd-bg:#e5e7eb; --kbd-fg:#111827; --kbd-border:#d1d5db;
      --link: #1d4ed8; --link-visited:#6d28d9;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg: #0b1220; /* slate-950-ish */
        --fg: #e5e7eb; /* slate-200 */
        --muted: #9ca3af; /* slate-400 */
        --card: #0f172a; /* slate-900 */
        --border: #1f2937; /* slate-800 */
        --accent: #60a5fa; /* blue-400 */
        --accent-fg: #0b1220;
        --shadow: 0 10px 30px rgba(0,0,0,.35);
        --code: #e5e7eb;
        --kbd-bg:#111827; --kbd-fg:#e5e7eb; --kbd-border:#374151;
        --link:#93c5fd; --link-visited:#c4b5fd;
      }
    }
    /* Manual overrides for tri‑mode */
    html[data-theme="light"]{
      --bg: #ffffff; --fg:#0f172a; --muted:#475569; --card:#f8fafc; --border:#e2e8f0;
      --accent:#2563eb; --accent-fg:#ffffff; --shadow:0 10px 25px rgba(2,6,23,.08);
      --code:#111827; --kbd-bg:#e5e7eb; --kbd-fg:#111827; --kbd-border:#d1d5db; --link:#1d4ed8; --link-visited:#6d28d9;
    }
    html[data-theme="dark"]{
      --bg:#0b1220; --fg:#e5e7eb; --muted:#9ca3af; --card:#0f172a; --border:#1f2937;
      --accent:#60a5fa; --accent-fg:#0b1220; --shadow:0 10px 30px rgba(0,0,0,.35);
      --code:#e5e7eb; --kbd-bg:#111827; --kbd-fg:#e5e7eb; --kbd-border:#374151; --link:#93c5fd; --link-visited:#c4b5fd;
    }

    /* Base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";}
    a{color:var(--link)} a:visited{color:var(--link-visited)}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header.site{position:sticky;top:0;z-index:50;background:linear-gradient(to bottom,var(--bg) 70%,color-mix(in oklab,var(--bg),transparent 100%) 100%);backdrop-filter:saturate(1.2) blur(6px);border-bottom:1px solid var(--border)}
    .bar{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:16px 24px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--accent),color-mix(in oklab,var(--accent),var(--accent-fg) 30%));box-shadow:var(--shadow)}
    h1{font-size:clamp(1.25rem,2.2vw,1.8rem);margin:0}
    .sub{color:var(--muted);font-size:.95rem}
    .controls{display:flex;gap:10px;align-items:center}
    .segmented{display:inline-flex;border:1px solid var(--border);border-radius:999px;overflow:hidden;background:var(--card)}
    .segmented button{border:0;background:transparent;padding:8px 12px;color:var(--muted);cursor:pointer}
    .segmented button[aria-pressed="true"]{background:var(--accent);color:var(--accent-fg)}
    .chip{padding:.25rem .6rem;border:1px solid var(--border);border-radius:999px;background:var(--card);color:var(--muted);font-size:.85rem}

    /* Layout */
    .grid{display:grid;grid-template-columns:280px 1fr;gap:24px}
    @media (max-width: 900px){.grid{grid-template-columns:1fr}}
    nav.toc{position:sticky;top:82px;align-self:start;border:1px solid var(--border);background:var(--card);border-radius:var(--radius);padding:14px;box-shadow:var(--shadow)}
    nav.toc h3{margin:.2rem 0 .5rem;font-size:1rem}
    nav.toc a{display:block;padding:.35rem .4rem;border-radius:8px;text-decoration:none;color:var(--fg)}
    nav.toc a:hover{background:color-mix(in oklab,var(--accent),transparent 85%)}
    main{min-width:0}

    /* Cards & content */
    section.card{border:1px solid var(--border);background:var(--card);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);margin-bottom:18px}
    section.card h2{margin-top:.2rem}
    .meta{display:flex;flex-wrap:wrap;gap:10px;margin:.5rem 0 1rem}
    .badge{background:color-mix(in oklab,var(--accent),transparent 85%);color:var(--fg);border:1px solid var(--border);padding:.25rem .5rem;border-radius:8px;font-size:.8rem}

    details{border:1px solid var(--border);border-radius:12px;background:transparent}
    details summary{list-style:none;cursor:pointer;padding:12px 14px;font-weight:600}
    details[open]{background:color-mix(in oklab,var(--card),transparent 0%)}
    details > div{padding:0 14px 14px}

    .lang-es{display:revert}
    .lang-en{display:none}
    html[data-lang="en"] .lang-es{display:none}
    html[data-lang="en"] .lang-en{display:revert}

    .glossary dt{font-weight:700}
    .glossary dd{margin:0 0 10px 0}

    .kbd{border:1px solid var(--kbd-border);border-bottom-width:3px;border-radius:6px;background:var(--kbd-bg);color:var(--kbd-fg);padding:2px 6px;font:600 .85rem ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}

    @media print{
      header.site, nav.toc, .controls{display:none}
      body{background:#fff;color:#000}
      section.card{break-inside:avoid}
    }
  </style>
</head>
<body>
  <header class="site">
    <div class="bar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>EC0249 · Proporcionar servicios de consultoría general</h1>
          <div class="sub">Versión bilingüe (Español / English) · Tema: Auto / Claro / Oscuro</div>
        </div>
      </div>
      <div class="controls">
        <div class="segmented" role="group" aria-label="Selector de idioma / Language">
          <button id="btn-es" data-lang="es" aria-pressed="true">ES</button>
          <button id="btn-en" data-lang="en" aria-pressed="false">EN</button>
        </div>
        <div class="segmented" role="group" aria-label="Tema">
          <button id="theme-auto" data-theme="auto" aria-pressed="true" title="Respeta el sistema"><span class="lang-es">Auto</span><span class="lang-en">Auto</span></button>
          <button id="theme-light" data-theme="light" aria-pressed="false" title="Claro"><span class="lang-es">Claro</span><span class="lang-en">Light</span></button>
          <button id="theme-dark" data-theme="dark" aria-pressed="false" title="Oscuro"><span class="lang-es">Oscuro</span><span class="lang-en">Dark</span></button>
        </div>
      </div>
    </div>
  </header>

  <div class="container grid">
    <nav class="toc" aria-label="Tabla de contenido / Table of contents">
      <h3><span class="lang-es">Contenido</span><span class="lang-en">Contents</span></h3>
      <a href="#datos"><span class="lang-es">I. Datos Generales</span><span class="lang-en">I. General Data</span></a>
      <a href="#perfil"><span class="lang-es">II. Perfil del EC</span><span class="lang-en">II. Standard Profile</span></a>
      <a href="#elementos"><span class="lang-es">III. Elementos y Criterios</span><span class="lang-en">III. Elements & Criteria</span></a>
      <a href="#glosario"><span class="lang-es">Glosario</span><span class="lang-en">Glossary</span></a>
      <a href="#referencias"><span class="lang-es">Referencias</span><span class="lang-en">References</span></a>
    </nav>

    <main>
      <section class="card" id="intro">
        <div class="meta">
          <span class="chip">N-FO-02 · v6.0</span>
          <span class="chip"><span class="lang-es">Nivel en SNC: Cinco</span><span class="lang-en">National Skills Level: Five</span></span>
          <span class="chip"><span class="lang-es">Aprob.: 17/Jul/2012 · D.O.F.: 16/Oct/2012</span><span class="lang-en">Approved: Jul 17, 2012 · Gazette: Oct 16, 2012</span></span>
          <span class="chip"><span class="lang-es">Vigencia Cert.: 4 años</span><span class="lang-en">Certificate Validity: 4 years</span></span>
        </div>
        <p class="lang-es"><strong>Propósito.</strong> Servir como referente para evaluar y certificar a personas que realizan funciones de consultoría —sin importar la especialidad— y para diseñar programas de capacitación basados en EC. No requiere título profesional para certificarse.</p>
        <p class="lang-en"><strong>Purpose.</strong> Serves as a benchmark to evaluate and certify individuals who perform consulting functions—regardless of specialty—and to design training programs based on the standard. A professional degree is not required for certification.</p>
        <p class="lang-es"><strong>Descripción.</strong> El estándar define funciones mínimas: (1) Identificar la situación/problema; (2) Desarrollar opciones de solución; (3) Presentar la propuesta de solución al consultante. Incluye conocimientos, actitudes y evidencias requeridas.</p>
        <p class="lang-en"><strong>Description.</strong> The standard defines minimum functions: (1) Identify the situation/problem; (2) Develop solution options; (3) Present the proposed solution to the client. It includes required knowledge, attitudes, and evidence.</p>
      </section>

      <section class="card" id="datos">
        <h2><span class="lang-es">I. Datos Generales</span><span class="lang-en">I. General Data</span></h2>
        <details open>
          <summary><span class="lang-es">Clasificaciones y Alcance</span><span class="lang-en">Classifications & Scope</span></summary>
          <div>
            <ul class="lang-es">
              <li><strong>Código / Título:</strong> EC0249 · Proporcionar servicios de consultoría general</li>
              <li><strong>Nivel:</strong> Cinco (planifica, programa y es responsable de resultados de equipos).</li>
              <li><strong>SCIAN:</strong> 54, 541, 5416, 54161, 54169; clases 541610 (MÉX), 541690.</li>
              <li><strong>Ocupaciones relacionadas (CNO):</strong> 0825-01 Consultores de sistemas administrativos; p. ej., consultor de análisis organizacional.</li>
            </ul>
            <ul class="lang-en">
              <li><strong>Code / Title:</strong> EC0249 · Provide general consulting services</li>
              <li><strong>Level:</strong> Five (plans, schedules, and is accountable for team outcomes).</li>
              <li><strong>NAICS (SCIAN):</strong> 54, 541, 5416, 54161, 54169; classes 541610 (MEX), 541690.</li>
              <li><strong>Related occupations (CNO):</strong> 0825-01 Administrative systems consultants; e.g., organizational analysis consultant.</li>
            </ul>
          </div>
        </details>
        <details>
          <summary><span class="lang-es">Participantes y Fechas</span><span class="lang-en">Participants & Dates</span></summary>
          <div>
            <p class="lang-es"><strong>Comité de Gestión por Competencias:</strong> Sector de Consultoría. <strong>Empresas/Instituciones:</strong> Cámara Nacional de Empresas de Consultoría; Cencade, S.A. de C.V.; Compite; Instituto de Ingeniería de la UNAM; Secretaría de Economía; UNIVA; UVM.</p>
            <p class="lang-en"><strong>Sector Skills Committee:</strong> Consulting Sector. <strong>Organizations involved:</strong> National Chamber of Consulting Firms; Cencade, S.A. de C.V.; Compite; UNAM Institute of Engineering; Ministry of Economy; UNIVA; UVM.</p>
            <p class="lang-es"><strong>Aprobación:</strong> 17 de julio de 2012 · <strong>Publicación en D.O.F.:</strong> 16 de octubre de 2012.</p>
            <p class="lang-en"><strong>Approval:</strong> July 17, 2012 · <strong>Official Gazette:</strong> October 16, 2012.</p>
            <p class="lang-es"><strong>Revisión/Actualización del EC:</strong> cada 2 años. <strong>Vigencia del certificado:</strong> 4 años.</p>
            <p class="lang-en"><strong>Review/Update cycle:</strong> every 2 years. <strong>Certificate validity:</strong> 4 years.</p>
          </div>
        </details>
        <details>
          <summary><span class="lang-es">Aspectos de Evaluación</span><span class="lang-en">Assessment Aspects</span></summary>
          <div>
            <ul class="lang-es">
              <li><strong>Entrega de evidencias por producto:</strong> formato electrónico; revisión en 5 días hábiles por el evaluador.</li>
              <li><strong>Evidencias de desempeño y conocimiento:</strong> en sitio o simulación (evaluador actúa como cliente/entrevistado).</li>
              <li><strong>Apoyos:</strong> equipo para presentación (computadora, proyector, pantalla, rotafolio, etc.).</li>
              <li><strong>Duración estimada:</strong> 4 h gabinete + 2 h campo = 6 h.</li>
            </ul>
            <ul class="lang-en">
              <li><strong>Product evidence submission:</strong> electronic format; reviewed within 5 business days.</li>
              <li><strong>Performance & knowledge evidence:</strong> on-site or simulated (evaluator acts as client/interviewee).</li>
              <li><strong>Supports:</strong> presentation equipment (computer, projector, screen, flipchart, etc.).</li>
              <li><strong>Estimated duration:</strong> 4 h office + 2 h field = 6 h.</li>
            </ul>
          </div>
        </details>
      </section>

      <section class="card" id="perfil">
        <h2><span class="lang-es">II. Perfil del Estándar de Competencia</span><span class="lang-en">II. Standard Profile</span></h2>
        <div class="meta">
          <span class="badge"><span class="lang-es">Elemento 1:</span><span class="lang-en">Element 1:</span> E0875</span>
          <span class="badge"><span class="lang-es">Elemento 2:</span><span class="lang-en">Element 2:</span> E0876</span>
          <span class="badge"><span class="lang-es">Elemento 3:</span><span class="lang-en">Element 3:</span> E0877</span>
        </div>
        <p class="lang-es">Funciones mínimas: Identificar la situación/problema; Desarrollar opciones de solución; Presentar la propuesta de solución.</p>
        <p class="lang-en">Minimum functions: Identify the situation/problem; Develop solution options; Present the proposed solution.</p>
      </section>

      <section class="card" id="elementos">
        <h2><span class="lang-es">III. Elementos y Criterios de Evaluación</span><span class="lang-en">III. Elements & Evaluation Criteria</span></h2>

        <!-- Element 1 -->
        <details open>
          <summary><strong>E0875</strong> · <span class="lang-es">Identificar la situación / problema planteado</span><span class="lang-en">Identify the stated situation / problem</span></summary>
          <div>
            <h3><span class="lang-es">Desempeños</span><span class="lang-en">Performances</span></h3>
            <ul class="lang-es">
              <li>Entrevista a las partes: se presenta, explica el propósito, solicita información y evidencias (verbal/escrita), registra respuestas y cierra agradeciendo.</li>
            </ul>
            <ul class="lang-en">
              <li>Interviews stakeholders: introduces self, explains purpose, requests information and evidence (oral/written), records responses, and closes with thanks.</li>
            </ul>

            <h3><span class="lang-es">Productos</span><span class="lang-en">Products</span></h3>
            <ul class="lang-es">
              <li>Documento que describe el problema (alcance, integración de información, interpretación y afectaciones).</li>
              <li>Afectación detectada congruente con la información integrada.</li>
              <li>Integración de la información (recopilada, congruente con el problema, e interpretación).</li>
              <li>Reporte de metodología: definición del problema; programa de entrevistas; áreas involucradas; estudios/pruebas; requerimientos de información; programa de observaciones; búsqueda documental; método de evaluación.</li>
              <li>Guía de entrevista: propósito; actividades/responsabilidades; información/doc. a solicitar; cierre.</li>
              <li>Cuestionario: propósito; datos generales; confidencialidad; instrucciones; preguntas alineadas; documentación de soporte; comentarios; agradecimiento.</li>
              <li>Programa de búsqueda documental: información interna y externa relevante.</li>
              <li>Reporte de visita de campo: objetivo, alcance, observaciones y resultados.</li>
            </ul>
            <ul class="lang-en">
              <li>Problem description document (scope, information integration, interpretation and impacts).</li>
              <li>Detected impacts consistent with integrated information.</li>
              <li>Information integration (collected data, alignment with problem, and interpretation).</li>
              <li>Methodology report: problem definition; interview program; involved areas; studies/tests; information requirements; field observations plan; documentary research; evaluation method.</li>
              <li>Interview guide: purpose; activities/responsibilities; info/documents to request; closing.</li>
              <li>Questionnaire: purpose; respondent data; confidentiality; instructions; aligned questions; supporting documents; comments; thanks.</li>
              <li>Documentary search plan: internal and external information.</li>
              <li>Field visit report: objective, scope, observations and results.</li>
            </ul>

            <h3><span class="lang-es">Conocimientos</span><span class="lang-en">Knowledge</span></h3>
            <ul class="lang-es">
              <li>Entrevistas: tipos.</li>
              <li>Cuestionarios: tipos.</li>
              <li>Indicadores: concepto y usos.</li>
              <li>Fuentes de información: tipos y características de muestras.</li>
              <li>Metodología de investigación de problemas: definición, requerimientos y evaluación de información.</li>
            </ul>
            <ul class="lang-en">
              <li>Interviews: types.</li>
              <li>Questionnaires: types.</li>
              <li>Indicators: concept and uses.</li>
              <li>Information sources: types and sample characteristics.</li>
              <li>Problem-research methodology: definition, requirements and information assessment.</li>
            </ul>

            <h3><span class="lang-es">Actitudes / Hábitos / Valores</span><span class="lang-en">Attitudes / Habits / Values</span></h3>
            <ul class="lang-es"><li>Limpieza; Orden.</li></ul>
            <ul class="lang-en"><li>Neatness; Order.</li></ul>
          </div>
        </details>

        <!-- Element 2 -->
        <details>
          <summary><strong>E0876</strong> · <span class="lang-es">Desarrollar opciones de solución a la situación / problema planteado</span><span class="lang-en">Develop solution options for the stated situation / problem</span></summary>
          <div>
            <h3><span class="lang-es">Productos</span><span class="lang-en">Products</span></h3>
            <ul class="lang-es">
              <li>Reporte de afectaciones: metodología aplicada, afectaciones definidas y situación a resolver detallada.</li>
              <li>Solución diseñada: congruente con la situación; beneficios; desventajas; justificación detallada; implicaciones costo/beneficio.</li>
            </ul>
            <ul class="lang-en">
              <li>Report of impacts: applied methodology, defined impacts, and detailed situation to be solved.</li>
              <li>Designed solution: consistent with the situation; benefits; drawbacks; detailed justification; cost/benefit implications.</li>
            </ul>

            <h3><span class="lang-es">Actitudes / Hábitos / Valores</span><span class="lang-en">Attitudes / Habits / Values</span></h3>
            <ul class="lang-es"><li>Responsabilidad: aceptación y firma de códigos de ética, confidencialidad y aviso de privacidad.</li></ul>
            <ul class="lang-en"><li>Responsibility: acceptance and signature of codes of ethics, confidentiality and privacy notice.</li></ul>
          </div>
        </details>

        <!-- Element 3 -->
        <details>
          <summary><strong>E0877</strong> · <span class="lang-es">Presentar la propuesta de solución</span><span class="lang-en">Present the proposed solution</span></summary>
          <div>
            <h3><span class="lang-es">Desempeños</span><span class="lang-en">Performances</span></h3>
            <ul class="lang-es">
              <li>Presenta la propuesta al consultante: descripción; alcance; ventajas/desventajas; responsables (consultante/consultor); etapas e indicadores; entregables; implicaciones de implantación y costo/beneficio; respuesta a dudas; recursos a emplear.</li>
            </ul>
            <ul class="lang-en">
              <li>Presents the proposal to the client: description; scope; pros/cons; responsible parties (client/consultant); stages and indicators; deliverables; implementation and cost/benefit implications; Q&A; resources to be used.</li>
            </ul>

            <h3><span class="lang-es">Productos</span><span class="lang-en">Products</span></h3>
            <ul class="lang-es">
              <li>Propuesta de trabajo: antecedentes/diagnóstico; síntesis descriptiva; alcance; solución detallada; plan de trabajo; entregables; riesgos; responsabilidades; costo estimado.</li>
              <li>Descripción detallada: etapas; resultados esperados; indicadores; mecanismos de control; recursos del consultor y del consultante.</li>
              <li>Plan de trabajo: resultados esperados; actividades; recursos.</li>
              <li>Actividades: calendarización; responsables; indicadores; mecanismos de control y seguimiento.</li>
              <li>Registro de acuerdos: propuesta autorizada; alcance; resultados; tiempos; responsabilidades; costos y condiciones de pago; cláusulas de confidencialidad y propiedad intelectual.</li>
            </ul>
            <ul class="lang-en">
              <li>Work proposal: background/diagnosis; descriptive summary; scope; detailed solution; work plan; deliverables; risks; responsibilities; estimated cost.</li>
              <li>Detailed description: stages; expected results; indicators; control mechanisms; consultant and client resources.</li>
              <li>Work plan: expected results; activities; resources.</li>
              <li>Activities: schedule; owners; indicators; control and follow-up mechanisms.</li>
              <li>Record of agreements: approved proposal; scope; expected results; implementation time; responsibilities; cost and payment terms; confidentiality and IP clauses.</li>
            </ul>

            <h3 id="glosario"><span class="lang-es">Glosario</span><span class="lang-en">Glossary</span></h3>
            <dl class="glossary">
              <dt class="lang-es">Afectación de la situación actual</dt>
              <dt class="lang-en">Impact of the current situation</dt>
              <dd class="lang-es">Diferencia entre la situación deseada y la situación actual.</dd>
              <dd class="lang-en">Gap between the desired and current situation.</dd>

              <dt class="lang-es">Información externa</dt>
              <dt class="lang-en">External information</dt>
              <dd class="lang-es">Información de dominio público o propia del consultor.</dd>
              <dd class="lang-en">Public-domain information or consultant-owned data.</dd>

              <dt class="lang-es">Información interna</dt>
              <dt class="lang-en">Internal information</dt>
              <dd class="lang-es">Información propia del consultante.</dd>
              <dd class="lang-en">Information belonging to the client.</dd>

              <dt class="lang-es">Programa de búsqueda de información documental</dt>
              <dt class="lang-en">Documentary information search plan</dt>
              <dd class="lang-es">Documento que presenta la información que el consultor requiere para solucionar el problema estudiado.</dd>
              <dd class="lang-en">Document outlining the information the consultant requires to solve the studied problem.</dd>
            </dl>
          </div>
        </details>
      </section>

      <section class="card" id="referencias">
        <h2><span class="lang-es">Referencias</span><span class="lang-en">References</span></h2>
        <ul class="lang-es">
          <li>INEGI: Estadística sobre el número de consultores en México.</li>
          <li>Secretaría de Economía: Estadística sobre especialidades comunes del mercado de consultores.</li>
          <li>Cámara Nacional de Empresas de Consultoría: Estadística de especialidades en consultoría en México.</li>
        </ul>
        <ul class="lang-en">
          <li>INEGI: Statistics on the number of consultants in Mexico.</li>
          <li>Ministry of Economy: Statistics on common specialties in the consulting market.</li>
          <li>National Chamber of Consulting Firms: Statistics on consulting specialties in Mexico.</li>
        </ul>
        <p class="lang-es"><em>Nota:</em> Esta versión es una representación fiel, bilingüe y enriquecida del contenido del EC0249.</p>
        <p class="lang-en"><em>Note:</em> This edition is a faithful, bilingual, enriched representation of EC0249 contents.</p>
      </section>

      <section class="card">
        <h2><span class="lang-es">Ayuda Rápida</span><span class="lang-en">Quick Help</span></h2>
        <ul>
          <li><span class="kbd">ES</span>/<span class="kbd">EN</span> <span class="lang-es">para alternar idioma</span><span class="lang-en">to switch language</span>.</li>
          <li><span class="kbd">Auto</span>/<span class="kbd">Claro</span>/<span class="kbd">Oscuro</span> <span class="lang-es">para controlar el tema</span><span class="lang-en">to control theme</span>.</li>
          <li><span class="lang-es">Imprime con </span><span class="lang-en">Print with </span><span class="kbd">Ctrl/Cmd + P</span>.</li>
        </ul>
      </section>

    </main>
  </div>

  <script>
    (function(){
      const root = document.documentElement;
      const langButtons = { es: document.getElementById('btn-es'), en: document.getElementById('btn-en') };
      const themeButtons = {
        auto: document.getElementById('theme-auto'),
        light: document.getElementById('theme-light'),
        dark: document.getElementById('theme-dark')
      };

      // Load prefs
      const savedLang = localStorage.getItem('ec0249-lang');
      const savedTheme = localStorage.getItem('ec0249-theme');
      if(savedLang){ setLang(savedLang); } else { setLang('es'); }
      if(savedTheme){ setTheme(savedTheme); } else { setTheme('auto'); }

      // Language toggle
      langButtons.es.addEventListener('click', ()=> setLang('es'));
      langButtons.en.addEventListener('click', ()=> setLang('en'));

      function setLang(l){
        root.setAttribute('data-lang', l);
        langButtons.es.setAttribute('aria-pressed', String(l==='es'));
        langButtons.en.setAttribute('aria-pressed', String(l==='en'));
        localStorage.setItem('ec0249-lang', l);
        document.documentElement.lang = l;
      }

      // Theme toggle
      themeButtons.auto.addEventListener('click', ()=> setTheme('auto'));
      themeButtons.light.addEventListener('click', ()=> setTheme('light'));
      themeButtons.dark.addEventListener('click', ()=> setTheme('dark'));

      function setTheme(t){
        root.setAttribute('data-theme', t);
        for(const k in themeButtons){ themeButtons[k].setAttribute('aria-pressed', String(k===t)); }
        localStorage.setItem('ec0249-theme', t);
      }

      // Smooth-scroll TOC
      document.querySelectorAll('nav.toc a[href^="#"]').forEach(a => {
        a.addEventListener('click', (e)=>{
          e.preventDefault();
          const id = a.getAttribute('href');
          document.querySelector(id)?.scrollIntoView({behavior:'smooth', block:'start'});
          history.pushState(null, '', id);
        });
      });
    })();
  </script>
</body>
</html>
