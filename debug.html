<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
        .success { background-color: #d4edda; }
        .error { background-color: #f8d7da; }
    </style>
</head>
<body>
    <h1>Debug Test for Module Cards Bug</h1>
    <div id="results"></div>
    
    <!-- Embed the actual app in an iframe to test -->
    <h2>Application Preview</h2>
    <iframe src="dist/index.html" width="100%" height="600px" style="border: 1px solid #ccc;"></iframe>
    
    <script>
        const results = document.getElementById('results');
        
        function addResult(message, isSuccess = true) {
            const div = document.createElement('div');
            div.className = `test-result ${isSuccess ? 'success' : 'error'}`;
            div.textContent = message;
            results.appendChild(div);
        }
        
        // Test basic functionality
        addResult('✓ Debug page loaded successfully');
        
        // Check if we can access the iframe content after it loads
        const iframe = document.querySelector('iframe');
        iframe.onload = function() {
            try {
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                const modulesGrid = iframeDoc.querySelectorAll('.modules-grid');
                addResult(`✓ Found ${modulesGrid.length} modules-grid elements in app`);
                
                modulesGrid.forEach((grid, index) => {
                    const hasContent = grid.innerHTML.trim().length > 0;
                    const contentPreview = grid.innerHTML.trim().substring(0, 100);
                    addResult(`Grid ${index + 1}: ${hasContent ? 'HAS CONTENT' : 'EMPTY'} - "${contentPreview}${contentPreview.length > 100 ? '...' : ''}"`);
                });
            } catch (e) {
                addResult('✗ Cannot access iframe content (CORS restriction)', false);
                addResult('Tip: Serve the files from a local server to avoid CORS issues', false);
            }
        };
        
        // Instructions
        setTimeout(() => {
            addResult('Instructions: Open browser dev tools, navigate to Módulos tab in the app below, and check console for debug messages');
        }, 1000);
    </script>
</body>
</html>